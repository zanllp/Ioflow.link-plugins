<!--PROFILE_START
{
    "name": "流显示demo0",
    "desc": "插件描述",
    "type": "output",
    "hash": "55925c09d82f850f745a1e3dac9b49c861955a4da67c18be1c8f5072cf253a01",
    "id": 33
}
PROFILE_END-->
<div id="flowContainer">
    <ol class="flow-warp">
    </ol>
    <div>
        <span>
            自动滚动：<input type="checkbox" checked="checked">
        </span>
        <span style="margin-left: 16px">
            文本缩进：<input type="number" value="0">
        </span>
    </div>
</div>

<style>
    #flowContainer {
        width: 600px;
        height: 400px;
        background: #f0f2f5;
        padding: 8px;
    }

    #flowContainer .flow-warp {
        height: 90%;
        border: 1px solid #d9d9d9;
        background: white;
        border-radius: 4px;
        overflow: auto;
        padding-left: 0px;
        list-style: none;
    }

    #flowContainer .flow-item {
        width: calc(100%-16px);
        margin: 8px;
        padding: 8px 16px;
        border-radius: 4px;
        word-break: break-all;
        white-space: pre;
    }

    #flowContainer .flow-item:nth-child(odd) {
        background: gray;
        color: white;
    }

    #flowContainer input[type="number"] {
        border: 1px solid #d9d9d9;
        border-radius: 4px;
        padding-left: 8px;
    }
</style>
<script>
    let autoScroll = true;
    document.querySelector('#flowContainer input[type="checkbox"]').addEventListener('change', x => autoScroll = x.target.checked);
    let space = 0;
    document.querySelector('#flowContainer input[type="number"]').addEventListener('change', x => {
        space = Number(x.target.value);
    });
    const containerEle = document.querySelector("#flowContainer .flow-warp");
    let count = 0;
    const addItem = text => {
        const item = document.createElement("li");
        item.className = "flow-item";
        item.innerText = `${++count}: ${text};`
        containerEle.appendChild(item);
        if (autoScroll) {
            containerEle.scrollTop = containerEle.scrollHeight;
        }
    }
    lc.onAccept = x => addItem(JSON.stringify(x, null,space))
    
</script>